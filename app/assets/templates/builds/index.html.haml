.builds

  .row

    .col-8
      .build-info
        %p.small-text
          %span {{ project.description || "no description available" }}
          %a{ href: '{{project.http_url}}', target: "_blank" }
            <nobr>view on github</nobr>

    .col-4
      .pull-right
        %label.small-text.project-subscribe
          %input{ type: "checkbox", 'ng-model' => 'project.subscribed', 'ng-change' => 'changeProjectSubscribtion(project)' }
          Watch
        %a.btn.btn-small.btn-primary{ 'ng-show' => "project", "ng-click" => "createBuild()" }
          Create Build

  %table.tasks-table.table.small-text

    %thead
      %th No.
      %th Commit
      %th Branch
      %th Duration
      %th Finished At

    %tr.tasks-table-item.app-task-status-class{ 'ng-repeat' => "build in builds | orderBy:'number':true | limitTo:20", 'status' => "build.status" }
      %td
        %a{ 'ng-href' => "/builds/{{build.id}}" }
          %i.fa.fa-circle
          %span {{ build.number }}
      %td.app-build-http-url{ build: 'build' }
      %td {{ build.branch }}
      %td.app-task-duration{ task: 'build' }
      %td.app-task-finished{ task: 'build' }
