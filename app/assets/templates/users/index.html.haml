.row.wrapper.border-bottom.white-bg.page-heading
  .col-md-6
    %h2 Users

  .col-md-6
    .title-action{ style: "padding-top: 22px" }
      %a.btn.btn-primary{ 'ng-hide' => "showInvitesForm", 'ng-click' => 'toggleInvitesForm()' }
        %i.fa.fa-plus
        Create invites

.wrapper.wrapper-content.animated.fadeInDown{ 'ng-show' => "showInvitesForm" }
  .row
    .col-lg-12
      .ibox
        .ibox-content
          %h3.m-b-lg
            Email addresses
            %small separated by space
          %form{ role: "form", 'ng-submit' => "createInvites()", name: "form", novalidate: true }
            .form-group.m-b-lg
              %textarea.form-control{ name: "emails", 'ng-model' => "invite.emails", 'required' => true, 'autofocus' => true }
            %p
              %button.btn.btn-primary{ type: "submit", 'ng-disabled' => "form.$invalid || invite.wait" }
                %i.fa.fa-plus
                Create Invites
              or
              %a{ href: "javascript://", 'ng-click' => "toggleInvitesForm()" } Cancel

.wrapper.wrapper-content.animated.fadeInRight{ 'ng-show' => 'users.length > 0' }
  .row
    .col-md-6{ 'ng-repeat' => "user in users | orderBy:'projects_count':true" }
      .contact-box
        %a
          .col-sm-3
            .text-center
              %img.img-circle.m-t-xs.img-responsive{ 'ng-src' => "{{ user.avatar }}" }

          .col-sm-9
            %a.pull-right{href: "javascript://", 'ng-click' => 'destroy(user)', 'ng-if' => '!cannotEdit(user)' }
              %i.fa.fa-trash-o

            %h3
              %strong {{ user.name }}
            %p {{ user.email }}
            %p Projects: {{ user.projects_count }}
            .dropdown
              %button.btn.btn-xs.btn-default.btn-outline.dropdown-toggle{ 'ng-disabled' => 'cannotEdit(user)' }
                {{ user.role }}
                %span.caret
              %ul.dropdown-menu.animated.fadeInRight
                %li{ 'ng-repeat' => 'role in user.roles' }
                  %a{ href: "javascript://", 'ng-click' => "updateRole(user, role)" } {{ role }}

          .clearfix
